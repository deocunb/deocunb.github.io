---
layout: post
title: "Tree"
date: 2024-12-09
categories: Computer Science
---

### 트리

- 트리는 **Node**와 **Edge**로 구성됩니다.
- **레벨(Level)**: 동일한 서열의 노드 집합. 최상위 노드를 **Lv.0** 기준으로 하며, 같은 레벨의 노드들은 형제 노드입니다.
- **그래프**의 한 종류이며, 사이클이 있으면 그래프이고, 사이클이 없으면 **Acyclic** 트리입니다.

#### 주요 트리 용어

- **루트 노드(Root Node)**: 트리의 최상단에 위치한 노드.
- **잎새 노드(Leaf Node)**: 자식 노드가 없는 최하단의 노드.
- **내부 노드(Internal Node)**: 자식 노드가 있는 중간의 노드.
- **높이(Height)**: 트리에서 가장 큰 레벨로, 가장 깊은 잎새 노드의 레벨을 의미합니다 (루트 노드의 레벨은 0부터 시작).
- **크기(Size)**: 트리에서 자신을 포함한 하위 모든 노드의 수입니다.
- **차수(Degree)**: 해당 노드가 지닌 하위 가지의 수입니다.
- **트리의 차수**: 전체 노드에서 가장 많은 하위 노드를 가진 노드의 차수입니다.

- 하나의 노드에서 다른 노드로 이동하는 경로는 **유일**합니다.
- **엣지(Edge)**가 하나라도 끊기면 트리는 2개의 트리로 나뉩니다.

#### 트리 종류

- **이진 트리 (Binary Tree)**:
  - 각 노드는 최대 2개의 자식을 가질 수 있습니다.
  - 자식 노드 중 좌우를 구분합니다.
  - 노드가 N개일 때, 최대 가능한 높이는 $N - 1$입니다.

- **포화 이진 트리 (Perfect Binary Tree)**:
  - 모든 레벨에서 노드들이 한 부모당 2개씩 채워진 트리입니다.
  - 높이가 h일 때, 노드의 수는 $2^{h + 1} - 1$개입니다.
  - 노드가 N개일 때, 높이는 $log_{2}N$ (소수점 버림)입니다. 완전 이진 트리도 마찬가지입니다.

- **완전 이진 트리 (Complete Binary Tree)**:
  - 마지막 잎새 노드를 제외한 모든 노드들이 채워진 트리입니다.

- **정 이진 트리 (Full Binary Tree)**:
  - 모든 노드가 0개 혹은 2개의 자식 노드를 지닌 트리입니다.

- **편향 이진 트리 (Skewed Binary Tree, 사향 트리)**:
  - 한쪽으로 기울어진 트리로, 연결 리스트가 여기에 해당합니다.

- **균형 이진 트리 (Balanced Binary Tree)**:
  - 모든 노드의 좌우 서브트리 높이가 최대 1 이상 차이나지 않는 트리입니다.
  - 균형이 깨진 트리보다 균형 이진 트리의 탐색 속도가 훨씬 빠릅니다.

#### 이진 트리의 순회 (Traversal)

- **순회(Traversal)**는 트리의 모든 노드를 누락하지도 중복하지도 않고 방문하는 연산입니다.
  - **전위 순회(Preorder)**: 현재 → 좌(자식) → 우(자식)
  - **중위 순회(Inorder)**: 좌 → 현재 → 우
  - **후위 순회(Postorder)**: 좌 → 우 → 현재
  - **레벨 순회(Level-order)**: 루트부터 레벨마다 순서대로 좌 → 우

#### 이진 트리 구현

- 이진 트리는 **배열** 또는 **연결 리스트**로 구현할 수 있습니다.

#### 이진 탐색 트리 (Binary Search Tree)

- **중복된 키를 허용하지 않음**
- **좌측 자식**은 부모 노드보다 작습니다.
- **우측 자식**은 부모 노드보다 큽니다.
- **좌측 자식 < 부모 < 우측 자식** 구조를 유지합니다.
- 모든 서브 트리가 이 규칙을 유지합니다.
- **중위 순회(Inorder)** 시, 오름차순으로 정렬됩니다.
- 이진 탐색 트리는 이진 트리에 비해 탐색이 빠르지만, 균형을 유지해야 합니다.
  - 균형 상태에서의 탐색은 O(logN)이고, 불균형 상태에서는 O(N)이 될 수 있습니다.

- 트리의 균형 상태가 중요합니다. 어떤 데이터를 찾더라도 최대 트리 높이만큼의 탐색이 이루어집니다.
- **삭제 대상 노드의 자식이 둘인 경우**:
  - 좌측 서브 트리에서 가장 큰 노드를 선택하거나,
  - 우측 서브 트리에서 가장 작은 노드를 선택하여,
  - 삭제할 노드의 위치에 대체 후 하위 자식 노드 연결 작업을 진행합니다.

#### 균형 이진 트리

- **균형 이진 탐색 트리 (Balanced Binary Search Tree)**는 노드 추가/삭제 시 균형을 유지하는 트리입니다.
  
- **AVL 트리**:
  - 각 노드는 **Balance Factor(BF)**를 유지합니다. BF는 **좌측 서브트리 높이 - 우측 서브트리 높이**로 정의되며, 이 값은 **-1, 0, 1** 범위로만 유지됩니다.
  - 트리가 불균형하면 **회전(Rotation)**을 사용하여 균형을 맞춥니다.
    - **LL 회전**: 좌측으로만 2번 이어진 모양 → 최상위 노드를 중간 노드의 우측 자식 노드로 회전
    - **RR 회전**: 우측으로만 2번 이어진 모양 → 최상위 노드를 중간 노드의 좌측 자식 노드로 회전
    - **LR 회전**: 좌측 서브트리에 대해 **RR 회전** 후, 전체에 대해 **LL 회전**
    - **RL 회전**: 좌측 서브트리에 대해 **LL 회전** 후, 전체에 대해 **RR 회전**

- **Red-Black 트리**:
  - **Root와 Leaf 노드는 Black**
  - **Red 노드의 자식은 반드시 Black**으로 설정됩니다. 두 레벨 이상의 연속된 Red 노드는 불가능합니다.
  - 모든 Leaf와 Root 사이의 경로에 포함된 Black 노드의 수는 동일합니다. 이를 통해 트리의 **균형**을 유지합니다.
